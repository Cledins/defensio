<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='style_login.css') }}">
    <title>Débrief 1</title>
</head>
<body>

    <div class="flex-container">
        <div class="login-container">
            <img src="/static/logo.png" alt="Logo" class="logo">
            <form id="redirectForm">
                <button id="submit" type="button" onclick="redirectToSecondPhase()">Passez à la seconde phase</button>
            </form>
            
    <script>
        // Function to parse URL parameters
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, '\\$&');
            var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }

        // Get the transferred data from the URL
        var transferredData = {
            R: getParameterByName('R'),
            I: getParameterByName('I'),
            C: getParameterByName('C'),
            D : getParameterByName('D'),
            fireDefense: getParameterByName('fireDefense'),
            earthDefense: getParameterByName('earthDefense'),
            airDefense: getParameterByName('airDefense'),
            waterDefense: getParameterByName('waterDefense')
        };

        // Store the transferred data in variables
        var storedR = transferredData.R;
        var storedI = transferredData.I;
        var storedC = transferredData.C;
        var storedD = transferredData.D;
        var storedFireDefense = transferredData.fireDefense;
        var storedEarthDefense = transferredData.earthDefense;
        var storedAirDefense = transferredData.airDefense;
        var storedWaterDefense = transferredData.waterDefense;

        // You can now use these variables later in second_phase.html
    </script>


    <script>
        function redirectToSecondPhase() {
            // Redirect to the next page with query parameters
            const url = `/second_phase?R=${storedR}&I=${storedI}&C=${storedC}&D=${storedD}&fireDefense=${storedFireDefense}&earthDefense=${storedEarthDefense}&airDefense=${storedAirDefense}&waterDefense=${storedWaterDefense}`;
            window.location.href = url;
        }
    </script>


        
            
                     
        </div>
    
        <!-- Waves Container -->
        <div class="waves-container">
            <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
            viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
                <defs>
                    <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
                </defs>
                <g class="parallax">
                    <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(80, 194, 215, 0.7)" />
                    <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(80, 194, 215, 0.5)" />
                    <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(80, 194, 215, 0.3)" />
                    <use xlink:href="#gentle-wave" x="48" y="7" fill="#50C2D7" />
                </g>
            </svg>
        </div>
        <!-- Waves end -->
    </div>
        

</body>
</html>
