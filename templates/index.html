<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <title>Defensio</title>
</head>

    <body class="bg-gray-200">
        <div id="flex-container-1" class="flex-container">
                <!-- Logo en haut à gauche -->
                <img src="/static/logo.png" alt="Votre Logo" class="w-12 h-12">
                <!-- Numéro du groupe en haut à droite -->
                <div id="numberDisplay" class="text-xl font-bold"></div>
           
        </div>
    </div>

    <div id="flex-container-2" class="flex-container">
        <!-- Jauges -->    
        <div>
            <img src="/static/C.png" alt="Jauge C">
            <div id="JaugeC">JaugeC</div>
        </div>
        <div>
            <img src="/static/R.png" alt="Jauge R">
            <div id="JaugeR">JaugeR</div>
        </div>
        <div>
            <img src="/static/I.png" alt="Jauge I">
            <div id="JaugeI">JaugeI</div>
        </div>
    </div>
    

    <div id="flex-container-3" class="flex-container">
        <div id="card-container" class="flex-container">
        </div>

        <div class="additional-containers">
            <!-- Additional flex containers (4 in this example) -->
            <div class="additional-container">Défense feu</div>
            <div class="additional-container">Défense terre</div>
            <div class="additional-container">Défense air</div>
            <div class="additional-container">Défense eau</div>
        </div>
    </div>

    <script>
        function getCookie(name) {
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookie = cookies[i].trim();
            if (cookie.indexOf(name + "=") === 0) {
            return cookie.substring(name.length + 1);
            }
        }
        return "";
        };

        var storedNumber = getCookie("number");
        $("#numberDisplay").text("Équipe "+storedNumber);
    </script>
   
   <script>
  
    function renderCard(card) {
        const cardsContainer = document.getElementById('card-container');
        cardsContainer.innerHTML = ''; // Clear previous card

        const cardElement = document.createElement('div');
        cardElement.id = 'card-content'; // Ajoutez un ID au conteneur de contenu de la carte
        cardElement.innerHTML = `
            <p>${card.name}</p>
        `;
        cardsContainer.appendChild(cardElement);

        const buttonContainer = document.createElement('div');
        buttonContainer.id = 'button-container'; // Ajoutez un ID au conteneur de boutons
        buttonContainer.innerHTML = `
            <button class="action-button" onclick="handleCardChoice('yes')">Oui</button>
            <button class="action-button" onclick="handleCardChoice('no')">Non</button>
        `;
        cardsContainer.appendChild(buttonContainer);
    }


    function handleCardChoice(choice) {
        // Handle the choice logic here
        // ...

        // Move to the next card
        currentCardIndex++;

        // Render the next card data
        if (currentCardIndex < data.cards.length) {
            renderCard(data.cards[currentCardIndex]);
        } else {
            // All cards have been displayed, you may want to handle this case
            console.log("All cards have been displayed");
        };
    }

    let currentCardIndex = 0;
    let data;

    fetch('/api/cards')
        .then(response => response.json())
        .then(apidata => {
            data = apidata;
            renderCard(data.cards[currentCardIndex]);
        });
</script>


</body>
</html>

<!-- var body = document.querySelector('body');
var hammer = new Hammer(body);

hammer.on('swipeleft', function(e) {
  e.preventDefault();
  // Vous pouvez ajouter ici votre propre logique pour gérer le glissement à gauche
}); -->
